{"version":3,"sources":["contexts/IsLoggedInContext.js","contexts/UserInfoContext.js","images/logo.svg","components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmationPopup.js","components/ImagePopup.js","components/InfoTooltip.js","utils/constant.js","utils/api.js","utils/authApi.js","components/App.js","reportWebVitals.js","index.js"],"names":["IsLoggedInContext","React","createContext","UserInfoContext","Header","onLogout","isLoggedIn","useContext","useState","isShowData","setIsshowData","email","className","onClick","src","logo","alt","path","toogleIsShowData","to","Footer","CurrentUserContext","Card","_id","name","likes","owner","link","onCardClick","onCardLike","onCardDelete","currentUser","isOwn","cardDeleteButtonClassName","isLiked","some","like","cardLikeButtonClassName","type","aria-label","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","about","map","card","Login","onLogin","password","loginData","setLoginData","handleChange","e","target","value","onSubmit","preventDefault","id","placeholder","required","autoComplete","onChange","minLength","maxLength","Register","onRegister","registerData","setRegisterData","ProtectedRoute","Component","component","props","PopupWithForm","title","children","isOpen","onClose","noValidate","EditProfilePopup","onUpdateUser","setName","description","setDescription","useEffect","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","setLink","then","catch","err","console","log","ConfirmationPopup","ImagePopup","InfoTooltip","isSuccess","infoText","baseUrl","optionsApi","urlUserMe","urlCards","urlCardsLikes","urlUserMeAvatar","api","config","headers","this","_urlUserMe","_urlCards","_urlCardsLikes","_urlUserMeAvatar","_headers","res","ok","json","Promise","reject","Error","status","token","fetch","_getAuthHeaders","_checkServerResponse","method","body","JSON","stringify","putLike","deleteLike","checkResponse","response","statusText","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isInfoTooltipPopupOpen","setIsInfoTooltipPopupOpen","isSuccessRegisterRequest","setIsSuccessRegisterRequest","selectedCard","setSelectedCard","setCurrentUser","userInfo","setUserInfo","setCards","setIsLoggedIn","history","useHistory","tokenCheck","jwt","localStorage","getItem","BASE_URL","data","closeAllPopups","push","all","getUserInfo","getInitialCards","userData","Provider","removeItem","authApi","setItem","changeLikeCardStatus","newCard","state","c","deleteCard","filter","setCard","setAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a3445bcd.chunk.js","sourcesContent":["import React from 'react';\n\nexport const IsLoggedInContext = React.createContext();\n","import React from 'react';\n\nexport const UserInfoContext = React.createContext();\n","export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import React, { useContext, useState } from 'react';\nimport { Link, Route, Switch } from 'react-router-dom';\nimport { IsLoggedInContext } from '../contexts/IsLoggedInContext';\nimport { UserInfoContext } from '../contexts/UserInfoContext';\nimport logo from '../images/logo.svg';\n\nfunction Header({ onLogout }) {\n  const isLoggedIn = useContext(IsLoggedInContext);\n  const [isShowData, setIsshowData] = useState(false);\n  const { email } = useContext(UserInfoContext);\n\n  const toogleIsShowData = (isShowData) => setIsshowData(!isShowData);\n\n\n  return (\n    <>\n      {isLoggedIn\n        ? (<div className={`header__container header__container_small-width ${isShowData ? 'header__container_active' : ''}`}>\n          <p className=\"header__text\">{email}</p>\n          <button className=\"button header__button header__button_type_exit\" onClick={onLogout}>Выйти</button>\n        </div>)\n        : ''\n      }\n      <header className=\"header page__header\">\n        <img className=\"logo\" src={logo} alt=\"Логотип\" />\n        {isLoggedIn ? (\n          <Route path=\"/\">\n            <div className=\"header__container header__container_big-width\">\n              <p className=\"header__text\">{email}</p>\n              <button className=\"button header__button header__button_type_exit\" onClick={onLogout}>Выйти</button>\n            </div>\n            <button className=\"button header__button header__menu\" onClick={() => toogleIsShowData(isShowData)}></button>\n          </Route>\n        ) : (\n          <Switch>\n            <Route path='/sign-up'>\n              <Link to=\"sign-in\" className=\"header__link\">Войти</Link>\n            </Route>\n            <Route path='/sign-in'>\n              <Link to=\"sign-up\" className=\"header__link\">Регистрация</Link>\n            </Route>\n            <Route path='/'>\n              <Link to=\"sign-in\" className=\"header__link\">Войти</Link>\n            </Route>\n          </Switch>\n        )\n        }\n      </header>\n    </>\n  )\n\n}\n\nexport default Header;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer page__footer\">\n      <p className=\"footer__copyright\">&#169; 2020 Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card({ _id, name, likes, owner, link, onCardClick, onCardLike, onCardDelete }) {\n  const currentUser = useContext(CurrentUserContext);\n\n  const isOwn = (owner === currentUser._id);\n  const cardDeleteButtonClassName = (`button card__trash ${isOwn ? '' : 'card__trash_disabled'}`);\n\n  const isLiked = likes.some(like => {\n    return like === currentUser._id\n  });\n  const cardLikeButtonClassName = (`button card__like ${isLiked ? 'card__like_active' : ''}`);\n\n  return (\n    <li className=\"card\">\n      <figure className=\"card__figure\">\n        <img src={link} alt={name} className=\"card__image\" onClick={() => onCardClick({ name, link })} />\n        <figcaption className=\"card__caption\">\n          <h2 className=\"card__title\">{name}</h2>\n          <div className=\"card__like-container\">\n            <button className={cardLikeButtonClassName} type=\"button\" aria-label=\"Нравится\" onClick={() => onCardLike({ likes, _id })}></button>\n            <p className=\"card__like-count\">{likes.length}</p>\n          </div>\n        </figcaption>\n      </figure>\n      <button className={cardDeleteButtonClassName} type=\"button\" aria-label=\"Удалить\" onClick={() => onCardDelete({ _id })}></button>\n    </li>\n  );\n}\n\nexport default Card;\n","import React from 'react';\nimport { useContext } from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardLike, onCardDelete, cards }) {\n\n  const currentUser = useContext(CurrentUserContext);\n  return (\n    <main className=\"content page__content\">\n      <section className=\"profile\">\n        <button className=\"button button_type_edit-avatar\" type=\"button\" aria-label=\"Редактировать аватар\" onClick={onEditAvatar}>\n          <img src={currentUser.avatar} alt={currentUser.name} className=\"profile__avatar\" />\n        </button>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <button className=\"button profile__edit\" type=\"button\" aria-label=\"Редактировать\" onClick={onEditProfile}></button>\n          <p className=\"profile__description\">{currentUser.about}</p>\n        </div>\n        <button className=\"button profile__add\" type=\"button\" aria-label=\"Добавить\" onClick={onAddPlace}></button>\n      </section>\n\n      <section className=\"section\">\n        <ul className=\"cards\">\n          {cards.map(card => (\n            <Card key={card._id} {...card} onCardClick={onCardClick} onCardLike={onCardLike} onCardDelete={onCardDelete} />\n          )\n          )}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React, { useContext, useState } from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport { IsLoggedInContext } from '../contexts/IsLoggedInContext';\n\nfunction Login({ onLogin }) {\n  const [loginData, setLoginData] = useState({\n    email: '',\n    password: '',\n  });\n  const isLoggedIn = useContext(IsLoggedInContext);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setLoginData({\n      ...loginData,\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!loginData.email || !loginData.password) {\n      return;\n    }\n\n    onLogin(loginData);\n  };\n\n  return (\n    <>\n      {isLoggedIn && <Redirect to=\"/\" />}\n      <div className=\"entrance-group page__entrance-group\" >\n        <h2 className=\"entrance-group__title\">Вход</h2>\n\n        <form className={`form login__form`} onSubmit={handleSubmit}>\n          <input\n            className=\"form__input-text form__input-text_type_dark-form\" type=\"email\" name=\"email\"\n            id=\"email-login\" placeholder=\"Email\" required autoComplete=\"email\"\n            value={loginData.email} onChange={handleChange}\n          />\n          <span className=\"form__input-error name-profile-error\"></span>\n          <input\n            className=\"form__input-text form__input-text_type_dark-form\" type=\"password\" name=\"password\"\n            id=\"password-login\" placeholder=\"Пароль\" required minLength=\"2\" maxLength=\"200\" autoComplete=\"password\"\n            value={loginData.password} onChange={handleChange}\n          />\n          <span className=\"form__input-error job-profile-error\"></span>\n          <input className=\"button form__save form__save_type_dark-form\" type=\"submit\" value=\"Войти\" />\n        </form>\n      </div >\n    </>\n  )\n}\n\nexport default Login;\n","import React, { useContext, useState } from 'react';\nimport { Link, Redirect, Route } from 'react-router-dom';\nimport { IsLoggedInContext } from '../contexts/IsLoggedInContext';\n\nfunction Register({ onRegister }) {\n  const [registerData, setRegisterData] = useState({\n    email: '',\n    password: ''\n  });\n  const isLoggedIn = useContext(IsLoggedInContext);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setRegisterData({\n      ...registerData,\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!registerData.email || !registerData.password) {\n      return;\n    }\n\n    setRegisterData({\n      ...registerData,\n    });\n\n    onRegister(registerData);\n  };\n\n  return (\n    <>\n      {isLoggedIn && <Redirect to=\"/\" />}\n      <div className=\"entrance-group page__entrance-group\">\n        <h2 className=\"entrance-group__title\">Регистрация</h2>\n\n        <form className={`form login__form`} onSubmit={handleSubmit}>\n          <input className=\"form__input-text form__input-text_type_dark-form\" type=\"email\" name=\"email\"\n            id=\"email-register\" placeholder=\"Email\" required autoComplete=\"email\"\n            value={registerData.email} onChange={handleChange}\n          />\n          <span className=\"form__input-error\"></span>\n          <input className=\"form__input-text form__input-text_type_dark-form\" type=\"password\" name=\"password\"\n            id=\"password-register\" placeholder=\"Пароль\" required minLength=\"2\" maxLength=\"200\" autoComplete=\"password\"\n            value={registerData.password} onChange={handleChange}\n          />\n          <span className=\"form__input-error\"></span>\n          <input className=\"button form__save form__save_type_dark-form\" type=\"submit\" value=\"Зарегистрироваться\" />\n        </form>\n        <p className=\"entrance-group__text\">Уже зарегистрированы? <Link to=\"/sign-in\" className=\"entrance-group__link\">Войти</Link></p>\n      </div>\n    </>\n\n  )\n}\n\nexport default Register;\n","import React from 'react';\nimport { Redirect, Route } from 'react-router-dom';\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {\n        () => props.isLoggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\"/>\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","import React from 'react';\n\nfunction PopupWithForm({ name, title, children, isOpen, onClose, onSubmit }) {\n\n  return (\n    <div className={`popup popup_type_${name} ${isOpen ? 'popup_active' : ''}`}>\n      <div className=\"popup__container\">\n        <h2 className=\"popup__title\">{title}</h2>\n        <form className={`form form_type_${name}`} name={`${name}-info`} noValidate onSubmit={onSubmit}>\n          {children}\n        </form>\n        <button className=\"button popup__close\" type=\"button\" aria-label=\"Закрыть\" onClick={onClose}></button>\n      </div>\n    </div>\n  )\n}\n\nexport default PopupWithForm;\n","import React, { useState, useEffect, useContext } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const currentUser = useContext(CurrentUserContext);\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n  const handleChangeName = (e) => setName(e.target.value);\n  const handleChangeDescription = (e) => setDescription(e.target.value);\n\n  useEffect(() => {\n    if (currentUser.name && currentUser.about) {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    }\n  }, [currentUser.name, currentUser.about]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm name={'profile'} title={'Редактировать профиль'} isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\n      <input className=\"form__input-text form__input-text_type_name\" type=\"text\" name=\"name-profile\" id=\"name-profile\"\n        placeholder=\"Имя профиля\" required minLength=\"2\" maxLength=\"40\" value={name} onChange={handleChangeName} />\n      <span className=\"form__input-error name-profile-error\"></span>\n      <input className=\"form__input-text form__input-text_type_job\" type=\"text\" name=\"job-profile\" id=\"job-profile\"\n        placeholder=\"Род деятельности\" required minLength=\"2\" maxLength=\"200\" value={description} onChange={handleChangeDescription} />\n      <span className=\"form__input-error job-profile-error\"></span>\n      <input className=\"button form__save form__save_type_profile\" type=\"submit\" value=\"Сохранить\" />\n    </ PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React, { useEffect, useContext, useRef } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n  const currentUser = useContext(CurrentUserContext);\n  const avatarRef = useRef();\n\n  useEffect(() => {\n    if (currentUser.avatar) {\n      avatarRef.current.value = '';\n    }\n  });\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n  }\n\n  return (\n    <PopupWithForm name={'user-avatar'} title={'Обновить аватар'} isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\n      <input ref={avatarRef} className=\"form__input-text form__input-text_type_user-avatar\" type=\"url\" name=\"user-avatar\" id=\"user-avatar\"\n        placeholder=\"Ссылка на картинку\" required />\n      <span className=\"form__input-error user-avatar-error\"></span>\n      <input className=\"button form__save form__save_type_card\" type=\"submit\" value=\"Сохранить\" />\n    </ PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React, { useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n  const [name, setName] = useState('');\n  const [link, setLink] = useState('');\n  const handleChangeName = (e) => setName(e.target.value);\n  const handleChangeLink = (e) => setLink(e.target.value);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onAddPlace({ name, link })\n      .then(() => {\n        setName('');\n        setLink('');\n      })\n      .catch(err => console.log(err));\n  }\n\n  return (\n    <PopupWithForm name={'card'} title={'Новое место'} isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\n      <input className=\"form__input-text form__input-text_type_card-name\" type=\"text\" name=\"card-name\" id=\"card-name\"\n        placeholder=\"Название\" required minLength={2} maxLength={30} value={name} onChange={handleChangeName} />\n      <span className={`form__input-error card-name-error`}></span>\n      <input className=\"form__input-text form__input-text_type_card-link\" type=\"url\" name=\"card-link\" id=\"card-link\"\n        placeholder=\"Ссылка на картинку\" required value={link} onChange={handleChangeLink} />\n      <span className=\"form__input-error card-link-error\"></span>\n      <input className=\"button form__save form__save_type_card\" type=\"submit\" value=\"Сохранить\" />\n    </ PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React, { useState, useEffect } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction ConfirmationPopup() {\n\n\n  return (\n    <PopupWithForm name={'delete-card'} title={'Вы уверены?'}>\n      <input className=\"button form__save form__save_type_delete-card\" type=\"submit\" value=\"Да\" />\n    </ PopupWithForm>\n  );\n}\n\nexport default ConfirmationPopup;\n","import React from 'react';\n\nfunction ImagePopup({ card, onClose }) {\n  return (\n    <div className={`popup popup_type_img ${(card.name || card.link) ? 'popup_active' : ''} popup_background-color_dark`}>\n      <div className=\"popup__container popup__container_img\">\n        <figure className=\"popup__figure\">\n          <img src={card.link} alt={card.name}\n            className=\"popup__image\" />\n          <figcaption className=\"popup__caption\">{card.name}</figcaption>\n        </figure>\n        <button className=\"button popup__close\" type=\"button\" aria-label=\"Закрыть\" onClick={onClose}></button>\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup;\n","import React from 'react';\n\nfunction InfoTooltip({ isOpen, onClose, isSuccess, infoText }) {\n  return (\n    <div className={`popup ${isOpen ? 'popup_active' : ''}`}>\n      <div className=\"popup__container popup__container_request\">\n        {isSuccess\n          ? <div className=\"popup__graphic-info popup__graphic-info_type_success\" />\n          : <div className=\"popup__graphic-info popup__graphic-info_type_error\" />\n        }\n        <h2 className=\"popup__title popup__title_type_info-tooltip\">{infoText}</h2>\n        <button className=\"button popup__close popup__close_type_info-tooltip\" type=\"button\" aria-label=\"Закрыть\" onClick={onClose}></button>\n      </div>\n    </div>\n  )\n}\n\nexport default InfoTooltip;\n","const formSelectors = {\n  inputSelector: '.form__input-text',\n  submitButtonSelector: '.form__save',\n  inactiveButtonClass: 'form__save_inactive',\n  inputErrorClass: 'form__input-text_type_error',\n  errorClass: 'form__input-error_active'\n}\nconst baseUrl = 'https://api.mesto.vkorch.nomoredomains.club';\n// const baseUrl = 'http://localhost:3000';\n\nconst optionsApi = {\n  urlUserMe: `${baseUrl}/users/me`,\n  urlCards: `${baseUrl}/cards`,\n  urlCardsLikes: `${baseUrl}/cards/likes`,\n  urlUserMeAvatar: `${baseUrl}/users/me/avatar`,\n}\n\nconst headers = {\n  'Accept': 'application/json',\n  'Content-Type': 'application/json',\n};\n\nexport {\n  formSelectors,\n  optionsApi,\n  headers,\n  baseUrl,\n}\n","import { optionsApi, headers } from './constant';\n\nclass Api {\n  constructor(config, headers) {\n    this._urlUserMe = config.urlUserMe;\n    this._urlCards = config.urlCards;\n    this._urlCardsLikes = config.urlCardsLikes;\n    this._urlUserMeAvatar = config.urlUserMeAvatar;\n    this._headers = headers;\n  }\n\n  /**\n   * Проверяет ответ сервера и возвращает результат\n   * @param {*} res - ответ сервера\n   * @returns объект данных или ошибку\n   */\n  _checkServerResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error(`Ошибка: ${res.status}`));\n  }\n\n  _getAuthHeaders(token) {\n    return {\n      ...this._headers,\n      'Authorization': `Bearer ${token}`,\n    }\n  }\n\n  /**\n   * Берёт данные пользователя с сервера\n   * @returns {*} Данные пользователя или ошибку\n   */\n  getUserInfo(token) {\n    return fetch(this._urlUserMe, {\n      headers: this._getAuthHeaders(token),\n    })\n      .then(this._checkServerResponse);\n  }\n\n  /**\n   * Берёт массива карточек с сервера, для первичной инициализации страницы\n   * @returns {Array} массив карточек или ошибку\n   */\n  getInitialCards(token) {\n    return fetch(this._urlCards, {\n      headers: this._getAuthHeaders(token),\n    })\n      .then(this._checkServerResponse);\n  }\n\n  /**\n   * Обновляет информацию пользователя\n   * @param {name, about} param0 name - имя пользователя, about - описание пользователя.\n   */\n  setUserInfo({ name, about }, token) {\n    return fetch(this._urlUserMe, {\n      method: 'PATCH',\n      headers: this._getAuthHeaders(token),\n      body: JSON.stringify({\n        name: name,\n        about: about,\n      }),\n    })\n      .then(this._checkServerResponse);\n  }\n\n  /**\n   * Добавляет карточку\n   * @param {name, link} name - название карточки, link - ссылка на картинку.\n   * @returns карточку или ошибку\n   */\n  setCard({ name, link }, token) {\n    return fetch(this._urlCards, {\n      method: 'POST',\n      headers: this._getAuthHeaders(token),\n      body: JSON.stringify({\n        name: name,\n        link: link,\n      }),\n    })\n      .then(this._checkServerResponse);\n  }\n\n  /**\n   * Удаляет карточку\n   * @param {*} id - id карточки\n   * @returns карточку или ошибку\n   */\n  deleteCard(id, token) {\n    return fetch((`${this._urlCards}/${id}`), {\n      method: 'DELETE',\n      headers: this._getAuthHeaders(token),\n    })\n      .then(this._checkServerResponse);\n  }\n\n  /**\n   * Установка лайка\n   * @param {*} id - id карточки\n   * @returns лайки или ошибку\n   */\n  putLike(id, token) {\n    return fetch((`${this._urlCardsLikes}/${id}`), {\n      method: 'PUT',\n      headers: this._getAuthHeaders(token),\n    })\n      .then(this._checkServerResponse);\n  }\n\n  /**\n   * Удаление лайка\n   * @param {*} id - id номер карточки\n   * @returns карточку или ошибку\n   */\n  deleteLike(id, token) {\n    return fetch((`${this._urlCardsLikes}/${id}`), {\n      method: 'DELETE',\n      headers: this._getAuthHeaders(token),\n    })\n      .then(this._checkServerResponse);\n  }\n\n  changeLikeCardStatus(id, isLiked, token) {\n    return isLiked ? this.putLike(id, token) : this.deleteLike(id, token);\n  }\n\n  /**\n   * Установка нового аватара\n   * @param {avatar} avatar- аватар\n   * @returns аватар или ошибку\n   */\n  setAvatar({ avatar }, token) {\n    return fetch(this._urlUserMeAvatar, {\n      method: 'PATCH',\n      headers: this._getAuthHeaders(token),\n      body: JSON.stringify({\n        avatar: avatar,\n      }),\n    })\n      .then(this._checkServerResponse);\n  }\n}\n\nexport const api = new Api(optionsApi, headers);\n","// export const BASE_URL = 'https://auth.nomoreparties.co';\nimport { baseUrl as BASE_URL } from \"./constant\";\nconst checkResponse = (response) => {\n  return response.ok ? response.json() : Promise.reject(new Error(`Ошибка ${response.status}: ${response.statusText}`));\n};\n\nconst headers = {\n  'Accept': 'application/json',\n  'Content-Type': 'application/json',\n};\n\nexport const register = ({ password, email }) => {\n  return fetch(`${BASE_URL}/signup`, {\n    headers,\n    method: 'POST',\n    body: JSON.stringify({ password, email }),\n  })\n    .then(res => checkResponse(res));\n};\n\nexport const authorize = ({ password, email }) => {\n  return fetch(`${BASE_URL}/signin`, {\n    headers,\n    method: 'POST',\n    body: JSON.stringify({ password, email }),\n  })\n    .then(res => checkResponse(res));\n};\n\nexport const getEmail = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      ...headers,\n      'Authorization': `Bearer ${token}`,\n    },\n  })\n    .then(res => checkResponse(res));\n};\n","import React from 'react';\nimport { useState, useEffect } from 'react';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport Header from './Header';\nimport Footer from './Footer';\nimport Main from './Main';\nimport Login from './Login';\nimport Register from './Register';\nimport ProtectedRoute from './ProtectedRoute';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ConfirmationPopup from './ConfirmationPopup';\nimport ImagePopup from './ImagePopup';\nimport InfoTooltip from './InfoTooltip';\nimport { api } from '../utils/api';\nimport * as authApi from '../utils/authApi'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport { IsLoggedInContext } from '../contexts/IsLoggedInContext';\nimport { UserInfoContext } from '../contexts/UserInfoContext';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isInfoTooltipPopupOpen, setIsInfoTooltipPopupOpen] = useState(false);\n  const [isSuccessRegisterRequest, setIsSuccessRegisterRequest] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({ name: null, link: null });\n  const [currentUser, setCurrentUser] = useState({});\n  const [userInfo, setUserInfo] = useState({\n    _id: '',\n    email: '',\n  });\n  const [cards, setCards] = useState([]);\n\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const history = useHistory();\n\n  const tokenCheck = () => {\n    const jwt = localStorage.getItem('jwt');\n    if (!jwt) {\n      return;\n    }\n\n    authApi\n      .getEmail(jwt)\n      .then((data) => {\n        setUserInfo({\n          ...userInfo,\n          _id: data._id,\n          email: data.email,\n        });\n        setIsLoggedIn(true);\n      })\n      .catch(err => console.log(err));\n\n  };\n\n  useEffect(() => {\n    tokenCheck();\n  }, []);\n\n  useEffect(() => {\n    if (isLoggedIn) {\n      history.push('/');\n    }\n  }, [isLoggedIn]);\n\n  useEffect(() => {\n    if (isLoggedIn) {\n      Promise.all([api.getUserInfo(localStorage.getItem('jwt')), api.getInitialCards(localStorage.getItem('jwt'))])\n        .then(([userData, cards]) => {\n          setCurrentUser(userData);\n          setCards(cards);\n        })\n        .catch(err => console.log(err));\n    }\n  }, [isLoggedIn]);\n\n  const onLogin = (data) => {\n    return authApi\n      .authorize(data)\n      .then(({ token }) => {\n        localStorage.setItem('jwt', token);\n        setUserInfo({ email: data.email });\n        setIsLoggedIn(true);\n        setIsSuccessRegisterRequest(true);\n      })\n      .catch(err => {\n        setIsSuccessRegisterRequest(false);\n        setIsInfoTooltipPopupOpen(true);\n        console.log(err)\n      });\n  };\n\n  const onRegister = (data) => {\n    return authApi\n      .register(data)\n      .then(() => {\n        history.push('/sign-in');\n        setIsSuccessRegisterRequest(true);\n        setIsInfoTooltipPopupOpen(true);\n\n      })\n      .catch(err => {\n        setIsSuccessRegisterRequest(false);\n        setIsInfoTooltipPopupOpen(true);\n        console.log(err)\n      });\n  };\n\n  const onLogout = () => {\n    setIsLoggedIn(false);\n    localStorage.removeItem('jwt');\n    history.push('/sign-in');\n  };\n\n  function closeAllPopups() {\n    setIsAddPlacePopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard({ name: null, link: null });\n    setIsInfoTooltipPopupOpen(false);\n  }\n\n  const handleEditProfileClick = () => setIsEditProfilePopupOpen(true);\n  const handleAddPlaceClick = () => setIsAddPlacePopupOpen(true);\n  const handleEditAvatarClick = () => setIsEditAvatarPopupOpen(true);\n  const handleCardClick = ({ name, link }) => setSelectedCard({ name, link });\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(like => like === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked, localStorage.getItem('jwt'))\n      .then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n      })\n      .catch(err => console.log(err));\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id, localStorage.getItem('jwt'))\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id))\n      })\n      .catch(err => console.log(err));\n  }\n\n  function handleAddPlaceSubmit({ name, link }) {\n    return api.setCard({ name, link }, localStorage.getItem('jwt'))\n      .then(newCard => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n  }\n\n  function handleUpdateUser({ name, about }) {\n    api.setUserInfo({ name, about }, localStorage.getItem('jwt'))\n      .then((userData) => {\n        setCurrentUser(userData);\n        closeAllPopups();\n      })\n      .catch(err => console.log(err));\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    api.setAvatar({ avatar }, localStorage.getItem('jwt'))\n      .then((userData) => {\n        setCurrentUser(userData);\n        closeAllPopups();\n      })\n      .catch(err => console.log(err));\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <IsLoggedInContext.Provider value={isLoggedIn}>\n        <UserInfoContext.Provider value={userInfo}>\n          <Header onLogout={onLogout} />\n          <Switch>\n            <Route path=\"/sign-in\">\n              <Login onLogin={onLogin} />\n            </Route>\n            <Route path=\"/sign-up\">\n              <Register onRegister={onRegister} />\n            </Route>\n            <ProtectedRoute\n              path=\"/\"\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              onCardClick={handleCardClick}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}\n              cards={cards}\n              isLoggedIn={isLoggedIn}\n              component={Main}\n            />\n          </Switch>\n          <InfoTooltip isOpen={isInfoTooltipPopupOpen} onClose={closeAllPopups} isSuccess={isSuccessRegisterRequest}\n            infoText={isSuccessRegisterRequest ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'} />\n          <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n          <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n          <ConfirmationPopup />\n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n          <Footer />\n        </UserInfoContext.Provider>\n      </IsLoggedInContext.Provider>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}